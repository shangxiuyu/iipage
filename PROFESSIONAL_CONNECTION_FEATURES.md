# ä¸“ä¸šè¿žçº¿ç³»ç»ŸåŠŸèƒ½ç‰¹æ€§

## ðŸŽ¯ æ ¸å¿ƒæ”¹è¿›

### 1. ç¼©æ”¾æ— å…³æ€§
- **å›ºå®šè¿žçº¿ç²—ç»†**ï¼šè¿žçº¿ç²—ç»†å§‹ç»ˆä¸º2pxï¼Œä¸å—ç”»å¸ƒç¼©æ”¾å½±å“
- **å›ºå®šç®­å¤´å¤§å°**ï¼šç®­å¤´å°ºå¯¸æ’å®š8pxï¼Œä¿æŒæ¸…æ™°å¯è§
- **å›ºå®šUIå…ƒç´ **ï¼šåˆ é™¤æŒ‰é’®ã€å­—ä½“å¤§å°ç­‰UIå…ƒç´ å°ºå¯¸å›ºå®š

### 2. ç²¾ç¡®è¿žæŽ¥ç‚¹è®¡ç®—
- **è¾¹ç¼˜äº¤ç‚¹ç®—æ³•**ï¼šè¿žçº¿ç²¾ç¡®è¿žæŽ¥åˆ°å¡ç‰‡è¾¹ç¼˜ï¼Œè€Œéžç©¿è¿‡å¡ç‰‡
- **æ™ºèƒ½æ–¹å‘æ£€æµ‹**ï¼šè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è¿žæŽ¥è¾¹ï¼ˆä¸Š/ä¸‹/å·¦/å³ï¼‰
- **æ•°å­¦ç²¾ç¡®æ€§**ï¼šä½¿ç”¨çº¿æ€§ä»£æ•°è®¡ç®—çŸ©å½¢ä¸Žç›´çº¿çš„ç²¾ç¡®äº¤ç‚¹

### 3. åæ ‡ç³»ç»Ÿç»Ÿä¸€
- **å±å¹•åæ ‡ä¸ºä¸»**ï¼šæ‰€æœ‰è¿žçº¿è®¡ç®—åŸºäºŽå±å¹•åæ ‡ç³»ç»Ÿ
- **å›ºå®šå¡ç‰‡æ”¯æŒ**ï¼šå®Œç¾Žæ”¯æŒå›ºå®šå¡ç‰‡ä¸Žæ™®é€šå¡ç‰‡çš„æ··åˆè¿žçº¿
- **ç¼©æ”¾è¡¥å¿**ï¼šè‡ªåŠ¨å¤„ç†æ™®é€šå¡ç‰‡çš„ç¼©æ”¾å˜æ¢

## ðŸ”§ æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### è¿žæŽ¥ç‚¹è®¡ç®—ç®—æ³•
```typescript
// ç²¾ç¡®è®¡ç®—ä¸¤ä¸ªçŸ©å½¢ä¹‹é—´çš„è¿žçº¿äº¤ç‚¹
const calculateConnectionPoints = (fromNode, toNode, scale, panX, panY) => {
  // 1. èŽ·å–èŠ‚ç‚¹çš„å‡†ç¡®å±å¹•è¾¹ç•Œ
  // 2. è®¡ç®—ä¸­å¿ƒç‚¹å’Œæ–¹å‘å‘é‡
  // 3. ä½¿ç”¨å°„çº¿-çŸ©å½¢äº¤ç‚¹ç®—æ³•
  // 4. è¿”å›žæœ€ä¼˜è¿žæŽ¥ç‚¹
}
```

### æ™ºèƒ½è·¯å¾„ç”Ÿæˆ
```typescript
// æ ¹æ®è¿žæŽ¥ç‚¹ä½ç½®ç”Ÿæˆæ™ºèƒ½æ›²çº¿
const generateConnectionPath = (fromPoint, toPoint) => {
  // 1. åˆ†æžè¿žæŽ¥ç‚¹çš„è¾¹ç¼˜ä½ç½®
  // 2. è®¡ç®—è‡ªé€‚åº”æŽ§åˆ¶ç‚¹åç§»
  // 3. ç”Ÿæˆå¹³æ»‘è´å¡žå°”æ›²çº¿
}
```

## ðŸŽ¨ è§†è§‰ä¼˜åŒ–

### è¿žçº¿æ ·å¼
- **é¢œè‰²ç³»ç»Ÿ**ï¼šé»˜è®¤ç°è‰² `#6b7280`ï¼Œæ‚¬åœè“è‰² `#3b82f6`
- **ä¸´æ—¶è¿žçº¿**ï¼šè“è‰²è™šçº¿ï¼Œé€æ˜Žåº¦80%ï¼Œè§†è§‰å±‚æ¬¡æ¸…æ™°
- **ç®­å¤´è®¾è®¡**ï¼š8pxä¸‰è§’ç®­å¤´ï¼Œ12pxåç§»ï¼Œé¿å…é‡å 

### äº¤äº’åé¦ˆ
- **æ‚¬åœæ•ˆæžœ**ï¼šè¿žçº¿å’Œç®­å¤´åŒæ­¥å˜è‰²
- **åˆ é™¤æŒ‰é’®**ï¼šä¸­ç‚¹çº¢è‰²åœ†åœˆï¼Œæ‚¬åœæ˜¾ç¤º
- **é”šç‚¹åé¦ˆ**ï¼šæ‹–æ‹½æ—¶ç«‹å³æ˜¾ç¤ºä¸´æ—¶è¿žçº¿

## ðŸš€ ç”¨æˆ·ä½“éªŒæ”¹è¿›

### æ“ä½œæµç•…æ€§
1. **ç²¾ç¡®æ‹–æ‹½**ï¼šä»Žé”šç‚¹å‡†ç¡®ä½ç½®å¼€å§‹è¿žçº¿
2. **å®žæ—¶é¢„è§ˆ**ï¼šæ‹–æ‹½è¿‡ç¨‹ä¸­å®žæ—¶æ˜¾ç¤ºè¿žçº¿è·¯å¾„
3. **æ™ºèƒ½æ•æ‰**ï¼šæ¾å¼€æ—¶è‡ªåŠ¨æ£€æµ‹ç›®æ ‡å¡ç‰‡

### è§†è§‰ä¸€è‡´æ€§
1. **ç¼©æ”¾ä¸å˜**ï¼šæ— è®ºå¦‚ä½•ç¼©æ”¾ï¼Œè¿žçº¿éƒ½ä¿æŒæ¸…æ™°
2. **å±‚æ¬¡æ˜Žç¡®**ï¼šè¿žçº¿åœ¨å¡ç‰‡ä¸‹æ–¹ï¼ŒUIå…ƒç´ å±‚æ¬¡åˆ†æ˜Ž
3. **è‰²å½©ç»Ÿä¸€**ï¼šä¸Žæ•´ä½“UIè®¾è®¡ä¿æŒä¸€è‡´

## ðŸ“ å‡ ä½•ç®—æ³•ä¼˜åŠ¿

### å°„çº¿-çŸ©å½¢äº¤ç‚¹ç®—æ³•
```
å¯¹äºŽçŸ©å½¢çš„æ¯æ¡è¾¹ï¼Œè®¡ç®—å°„çº¿ä¸Žè¾¹çš„äº¤ç‚¹ï¼š
- å³è¾¹ï¼šif (dirX > 0) t = (right - centerX) / dirX
- å·¦è¾¹ï¼šif (dirX < 0) t = (left - centerX) / dirX  
- ä¸‹è¾¹ï¼šif (dirY > 0) t = (bottom - centerY) / dirY
- ä¸Šè¾¹ï¼šif (dirY < 0) t = (top - centerY) / dirY

é€‰æ‹©ç¬¬ä¸€ä¸ªæœ‰æ•ˆäº¤ç‚¹ä½œä¸ºè¿žæŽ¥ç‚¹
```

### è‡ªé€‚åº”æŽ§åˆ¶ç‚¹
```
æ ¹æ®è¿žæŽ¥è¾¹ç¼˜åŠ¨æ€è°ƒæ•´æŽ§åˆ¶ç‚¹ï¼š
- æ°´å¹³è¿žæŽ¥ï¼šæŽ§åˆ¶ç‚¹æ²¿Xè½´åç§»
- åž‚ç›´è¿žæŽ¥ï¼šæŽ§åˆ¶ç‚¹æ²¿Yè½´åç§»
- åç§»é‡ï¼šmin(distance * 0.3, 100px)
```

## ðŸ” ä¸“ä¸šç»†èŠ‚å¤„ç†

### è¾¹ç•Œæƒ…å†µ
- **è‡ªè¿žæŽ¥é˜²æŠ¤**ï¼šé˜»æ­¢å¡ç‰‡è¿žæŽ¥åˆ°è‡ªèº«
- **é‡å¤è¿žçº¿**ï¼šå…è®¸å¤šæ¡è¿žçº¿ï¼Œæ”¯æŒå¤æ‚å…³ç³»å›¾
- **èŠ‚ç‚¹åˆ é™¤**ï¼šè‡ªåŠ¨æ¸…ç†ç›¸å…³è¿žçº¿

### æ€§èƒ½ä¼˜åŒ–
- **æŒ‰éœ€è®¡ç®—**ï¼šåªåœ¨å¿…è¦æ—¶é‡æ–°è®¡ç®—è¿žæŽ¥ç‚¹
- **ç¼“å­˜æœºåˆ¶**ï¼šå¤ç”¨è®¡ç®—ç»“æžœï¼Œé¿å…é‡å¤è¿ç®—
- **DOMä¼˜åŒ–**ï¼šæœ€å°åŒ–DOMæ“ä½œï¼Œæå‡æ¸²æŸ“æ€§èƒ½

### å…¼å®¹æ€§ä¿è¯
- **æ··åˆæ¨¡å¼**ï¼šå›ºå®šå¡ç‰‡ä¸Žæ™®é€šå¡ç‰‡å®Œç¾Žåä½œ
- **ç¼©æ”¾å…¼å®¹**ï¼š0.1xåˆ°3xç¼©æ”¾èŒƒå›´å†…ä¿æŒç²¾ç¡®
- **è§¦æŽ§æ”¯æŒ**ï¼šè§¦æ‘¸è®¾å¤‡ä¸Šçš„æ‰‹åŠ¿æ“ä½œä¼˜åŒ–

## ðŸŽ¯ ä¸“ä¸šæ ‡å‡†å¯¹æ¯”

| ç‰¹æ€§ | åŸºç¡€å®žçŽ° | ä¸“ä¸šå®žçŽ° | ä¼˜åŠ¿ |
|------|---------|---------|------|
| è¿žçº¿ç²—ç»† | éšç¼©æ”¾å˜åŒ– | å›ºå®š2px | å§‹ç»ˆæ¸…æ™° |
| è¿žæŽ¥ç²¾åº¦ | è¿‘ä¼¼ä¸­å¿ƒç‚¹ | ç²¾ç¡®è¾¹ç¼˜äº¤ç‚¹ | è§†è§‰ä¸“ä¸š |
| è·¯å¾„ç®—æ³• | ç®€å•æ›²çº¿ | æ™ºèƒ½è´å¡žå°” | è·¯å¾„ä¼˜ç¾Ž |
| åæ ‡ç³»ç»Ÿ | æ··åˆåæ ‡ | ç»Ÿä¸€å±å¹•åæ ‡ | è®¡ç®—å‡†ç¡® |
| ç¼©æ”¾å¤„ç† | å­˜åœ¨åå·® | æ•°å­¦ç²¾ç¡® | é›¶è¯¯å·® |

è¿™ä¸ªä¸“ä¸šçš„è¿žçº¿ç³»ç»Ÿè¾¾åˆ°äº†å•†ä¸šçº§ç™½æ¿å·¥å…·çš„æ ‡å‡†ï¼Œå…·å¤‡äº† Miroã€Figma ç­‰ä¸“ä¸šå·¥å…·çš„è¿žçº¿ç²¾åº¦å’Œè§†è§‰æ•ˆæžœã€‚ 