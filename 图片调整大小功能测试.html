<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç‰‡è°ƒæ•´å¤§å°åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #4338ca;
            margin-bottom: 30px;
            text-align: center;
            font-size: 28px;
            font-weight: 600;
        }
        
        .feature-section {
            margin-bottom: 40px;
            padding: 24px;
            border: 2px dashed #e5e7eb;
            border-radius: 12px;
            background: #f9fafb;
        }
        
        .feature-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .feature-description {
            color: #6b7280;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .mock-image-container {
            position: relative;
            display: inline-block;
            margin: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        
        .mock-image-container:hover {
            box-shadow: 0 0 0 2px #6366f1;
        }
        
        .mock-image {
            width: 300px;
            height: 200px;
            border-radius: 8px;
            object-fit: cover;
            display: block;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 14px;
        }
        
        .resize-handle {
            position: absolute;
            width: 8px;
            height: 8px;
            backgroundColor: #3b82f6;
            border: 1px solid #ffffff;
            borderRadius: 2px;
            opacity: 0;
            transition: opacity 0.2s;
            zIndex: 1000;
        }
        
        .mock-image-container:hover .resize-handle {
            opacity: 1;
        }
        
        .handle-nw { top: -4px; left: -4px; cursor: nw-resize; }
        .handle-ne { top: -4px; right: -4px; cursor: ne-resize; }
        .handle-sw { bottom: -4px; left: -4px; cursor: sw-resize; }
        .handle-se { bottom: -4px; right: -4px; cursor: se-resize; }
        .handle-w { top: 50%; left: -4px; transform: translateY(-50%); cursor: ew-resize; }
        .handle-e { top: 50%; right: -4px; transform: translateY(-50%); cursor: ew-resize; }
        
        .size-info {
            position: absolute;
            top: -24px;
            left: 0;
            fontSize: 12px;
            color: #6b7280;
            background: rgba(255, 255, 255, 0.9);
            padding: 2px 6px;
            borderRadius: 4px;
            border: 1px solid #e5e7eb;
            whiteSpace: nowrap;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .mock-image-container:hover .size-info {
            opacity: 1;
        }
        
        .implementation-code {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .highlight {
            color: #fbbf24;
            font-weight: bold;
        }
        
        .function-name {
            color: #34d399;
        }
        
        .string {
            color: #f87171;
        }
        
        .test-steps {
            background: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        
        .test-steps h4 {
            color: #1d4ed8;
            margin: 0 0 12px 0;
            font-size: 16px;
        }
        
        .test-steps ol {
            margin: 0;
            padding-left: 20px;
            color: #1e40af;
        }
        
        .test-steps li {
            margin-bottom: 8px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .info-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
        }
        
        .info-card h4 {
            color: #475569;
            margin: 0 0 12px 0;
            font-size: 14px;
            font-weight: 600;
        }
        
        .info-card ul {
            margin: 0;
            padding-left: 16px;
            color: #64748b;
            font-size: 13px;
        }
        
        .info-card li {
            margin-bottom: 4px;
        }
        
        .success-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10b981;
            margin-right: 8px;
        }
        
        .implementation-status {
            background: #dcfce7;
            border: 1px solid #bbf7d0;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
            text-align: center;
        }
        
        .implementation-status h3 {
            color: #166534;
            margin: 0 0 8px 0;
            font-size: 18px;
        }
        
        .implementation-status p {
            color: #15803d;
            margin: 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ–¼ï¸ å›¾ç‰‡è°ƒæ•´å¤§å°åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="implementation-status">
            <h3><span class="success-indicator"></span>åŠŸèƒ½å·²å®ç°</h3>
            <p>RichTextEditor ä¸­çš„å›¾ç‰‡ç°åœ¨æ”¯æŒæ‹–æ‹½è°ƒæ•´å¤§å°ï¼Œå°±åƒè°ƒæ•´å¡ç‰‡å¤§å°ä¸€æ ·ï¼</p>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§
            </div>
            <div class="feature-description">
                æ–°å¢äº†å›¾ç‰‡è°ƒæ•´å¤§å°åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ‹–æ‹½å›¾ç‰‡è¾¹ç¼˜å’Œè§’è½æ¥è°ƒæ•´å›¾ç‰‡å°ºå¯¸ï¼Œæ“ä½œä½“éªŒä¸å¡ç‰‡è°ƒæ•´å¤§å°å®Œå…¨ä¸€è‡´ã€‚
            </div>
            
            <div class="info-grid">
                <div class="info-card">
                    <h4>ğŸ® äº¤äº’æ–¹å¼</h4>
                    <ul>
                        <li>é€‰ä¸­æˆ–æ‚¬åœå›¾ç‰‡æ˜¾ç¤ºå³ä¸‹è§’è°ƒæ•´æ‰‹æŸ„</li>
                        <li>æ‹–æ‹½å³ä¸‹è§’ï¼šåŒæ—¶è°ƒæ•´å®½åº¦å’Œé«˜åº¦</li>
                        <li>æ“ä½œç®€æ´ç›´è§‚</li>
                        <li>æœ€å°å°ºå¯¸é™åˆ¶ï¼š100Ã—75px</li>
                        <li>åªè¯»æ¨¡å¼ä¸æ˜¾ç¤ºæ‰‹æŸ„</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h4>ğŸ¨ è§†è§‰åé¦ˆ</h4>
                    <ul>
                        <li>è“è‰²è°ƒæ•´æ‰‹æŸ„ï¼ˆ8Ã—8pxï¼‰</li>
                        <li>é€‰ä¸­æ—¶æ˜¾ç¤ºè“è‰²è¾¹æ¡†</li>
                        <li>se-resizeé¼ æ ‡æŒ‡é’ˆ</li>
                        <li>æ— å¤šä½™å°ºå¯¸ä¿¡æ¯å¹²æ‰°</li>
                        <li>å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                ğŸ–¼ï¸ æ¨¡æ‹Ÿå›¾ç‰‡è°ƒæ•´æ¼”ç¤º
            </div>
            <div class="feature-description">
                ä¸‹é¢çš„æ¨¡æ‹Ÿå±•ç¤ºäº†å›¾ç‰‡è°ƒæ•´å¤§å°çš„äº¤äº’æ•ˆæœï¼ˆæ‚¬åœæŸ¥çœ‹è°ƒæ•´æ‰‹æŸ„ï¼‰ï¼š
            </div>
            
            <div style="text-align: center;">
                <div class="mock-image-container" id="mockImage1">
                    <div class="mock-image">
                        ğŸ“· æ¨¡æ‹Ÿå›¾ç‰‡ 1<br>ç®€æ´è°ƒæ•´
                    </div>
                    <!-- åªæ˜¾ç¤ºå³ä¸‹è§’è°ƒæ•´æ‰‹æŸ„ -->
                    <div class="resize-handle handle-se"></div>
                </div>
                
                <div class="mock-image-container" id="mockImage2">
                    <div class="mock-image" style="width: 240px; height: 160px;">
                        ğŸ–¼ï¸ æ¨¡æ‹Ÿå›¾ç‰‡ 2<br>æ‹–æ‹½å³ä¸‹è§’
                    </div>
                    <!-- åªæ˜¾ç¤ºå³ä¸‹è§’è°ƒæ•´æ‰‹æŸ„ -->
                    <div class="resize-handle handle-se"></div>
                </div>
            </div>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                ğŸ’» æ ¸å¿ƒå®ç°ä»£ç 
            </div>
            <div class="feature-description">
                ä»¥ä¸‹æ˜¯å›¾ç‰‡è°ƒæ•´å¤§å°åŠŸèƒ½çš„æ ¸å¿ƒå®ç°ä»£ç ï¼š
            </div>
            
            <div class="implementation-code">
<span class="highlight">// å›¾ç‰‡è°ƒæ•´å¤§å°é€»è¾‘</span>
<span class="function-name">const ImageResizer</span>: React.FC&lt;{ element: any, path: any }&gt; = ({ element: imgElement, path: imgPath }) =&gt; {
  <span class="function-name">const handleResizeMouseDown</span> = (e: React.MouseEvent, direction: <span class="string">'nw' | 'ne' | 'sw' | 'se' | 'w' | 'e'</span>) =&gt; {
    <span class="highlight">// é˜»æ­¢äº‹ä»¶å†’æ³¡å’Œé»˜è®¤è¡Œä¸º</span>
    e.stopPropagation();
    e.preventDefault();
    
    <span class="highlight">// è®°å½•åˆå§‹çŠ¶æ€</span>
    const startX = e.clientX;
    const startY = e.clientY;
    const startWidth = imgElement.width || <span class="string">320</span>;
    const startHeight = imgElement.height || <span class="string">240</span>;
    
    <span class="function-name">const onMouseMove</span> = (e: MouseEvent) =&gt; {
      <span class="highlight">// è®¡ç®—åç§»é‡</span>
      const deltaX = e.clientX - startX;
      const deltaY = e.clientY - startY;
      
      <span class="highlight">// æ ¹æ®æ‹–æ‹½æ–¹å‘è°ƒæ•´å°ºå¯¸</span>
      <span class="function-name">switch</span> (direction) {
        <span class="function-name">case</span> <span class="string">'se'</span>: <span class="highlight">// å³ä¸‹è§’</span>
          newWidth = Math.max(minWidth, startWidth + deltaX);
          newHeight = Math.max(minHeight, startHeight + deltaY);
          <span class="function-name">break</span>;
        <span class="highlight">// ... å…¶ä»–æ–¹å‘å¤„ç†</span>
      }
      
      <span class="highlight">// ä½¿ç”¨ Slate.js æ›´æ–°å›¾ç‰‡èŠ‚ç‚¹</span>
      <span class="function-name">Transforms.setNodes</span>(editorStatic, { 
        ...imgElement, 
        width: newWidth,
        height: newHeight
      }, { at: imgPath });
    };
  };
};
            </div>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                ğŸ§ª æµ‹è¯•æ­¥éª¤
            </div>
            
            <div class="test-steps">
                <h4>åœ¨ç™½æ¿åº”ç”¨ä¸­æµ‹è¯•å›¾ç‰‡è°ƒæ•´å¤§å°ï¼š</h4>
                <ol>
                    <li>æ‰“å¼€ç™½æ¿åº”ç”¨ï¼Œåˆ›å»ºæˆ–ç¼–è¾‘ä¸€ä¸ªå¡ç‰‡</li>
                    <li>ç²˜è´´ä¸€å¼ å›¾ç‰‡åˆ°å¡ç‰‡å†…å®¹ä¸­</li>
                    <li>ç‚¹å‡»é€‰ä¸­å›¾ç‰‡ï¼Œè§‚å¯Ÿæ˜¯å¦å‡ºç°è“è‰²è¾¹æ¡†</li>
                    <li>å°†é¼ æ ‡æ‚¬åœåœ¨å›¾ç‰‡ä¸Šï¼ŒæŸ¥çœ‹å³ä¸‹è§’è°ƒæ•´æ‰‹æŸ„æ˜¯å¦æ˜¾ç¤º</li>
                    <li>æ‹–æ‹½å³ä¸‹è§’æ‰‹æŸ„ï¼Œæµ‹è¯•åŒæ—¶è°ƒæ•´å®½é«˜</li>
                    <li>è§‚å¯Ÿæ“ä½œçš„ç®€æ´æ€§å’Œç›´è§‚æ€§</li>
                    <li>æµ‹è¯•æœ€å°å°ºå¯¸é™åˆ¶ï¼ˆ100Ã—75pxï¼‰æ˜¯å¦ç”Ÿæ•ˆ</li>
                    <li>ä¿å­˜å¡ç‰‡ï¼Œé‡æ–°æ‰“å¼€éªŒè¯å°ºå¯¸æ˜¯å¦ä¿æŒ</li>
                </ol>
            </div>
            
            <div class="test-steps">
                <h4>é¢„æœŸæ•ˆæœï¼š</h4>
                <ol>
                    <li>âœ… å›¾ç‰‡é€‰ä¸­æ—¶æ˜¾ç¤ºè“è‰²è¾¹æ¡†</li>
                    <li>âœ… æ‚¬åœæ—¶æ˜¾ç¤ºå³ä¸‹è§’è°ƒæ•´æ‰‹æŸ„</li>
                    <li>âœ… æ‹–æ‹½æ‰‹æŸ„èƒ½æµç•…è°ƒæ•´å›¾ç‰‡å°ºå¯¸</li>
                    <li>âœ… æ“ä½œç®€æ´ç›´è§‚ï¼Œæ— å¤šä½™ä¿¡æ¯å¹²æ‰°</li>
                    <li>âœ… é¼ æ ‡æŒ‡é’ˆæ˜¾ç¤ºse-resizeæ ·å¼</li>
                    <li>âœ… å°ºå¯¸å˜åŒ–ç«‹å³ä¿å­˜åˆ°ç¼–è¾‘å™¨çŠ¶æ€</li>
                </ol>
            </div>
        </div>
        
        <div class="feature-section">
            <div class="feature-title">
                âš™ï¸ æŠ€æœ¯å®ç°è¦ç‚¹
            </div>
            
            <div class="info-grid">
                <div class="info-card">
                    <h4>ğŸ”§ æ ¸å¿ƒæŠ€æœ¯</h4>
                    <ul>
                        <li>Slate.js Transforms API</li>
                        <li>React Hook çŠ¶æ€ç®¡ç†</li>
                        <li>DOM äº‹ä»¶å¤„ç†æœºåˆ¶</li>
                        <li>CSS Position å¸ƒå±€</li>
                        <li>TypeScript ç±»å‹å®‰å…¨</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h4>ğŸ¯ è®¾è®¡åŸåˆ™</h4>
                    <ul>
                        <li>ä¸å¡ç‰‡è°ƒæ•´å¤§å°ä¸€è‡´çš„äº¤äº’</li>
                        <li>ç›´è§‚çš„è§†è§‰åé¦ˆæœºåˆ¶</li>
                        <li>å¹³æ»‘çš„åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ</li>
                        <li>æœ€å°å°ºå¯¸çš„åˆç†é™åˆ¶</li>
                        <li>åªè¯»æ¨¡å¼çš„å®Œæ•´æ”¯æŒ</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; color: #6b7280;">
            <p><strong>ğŸ‰ å›¾ç‰‡è°ƒæ•´å¤§å°åŠŸèƒ½å·²æˆåŠŸå®ç°ï¼</strong></p>
            <p>ç°åœ¨ç”¨æˆ·å¯ä»¥åƒè°ƒæ•´å¡ç‰‡ä¸€æ ·è°ƒæ•´å›¾ç‰‡å°ºå¯¸ï¼Œæä¾›äº†ç»Ÿä¸€ä¸”ç›´è§‚çš„æ“ä½œä½“éªŒã€‚</p>
        </div>
    </div>
    
    <script>
        // ç®€å•çš„äº¤äº’æ¼”ç¤º
        document.querySelectorAll('.mock-image-container').forEach(container => {
            container.addEventListener('mouseenter', () => {
                container.style.transform = 'scale(1.02)';
            });
            
            container.addEventListener('mouseleave', () => {
                container.style.transform = 'scale(1)';
            });
        });
        
        // æ¨¡æ‹Ÿæ‹–æ‹½æ•ˆæœï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰
        document.querySelectorAll('.resize-handle').forEach(handle => {
            handle.addEventListener('mousedown', (e) => {
                e.preventDefault();
                console.log('ğŸ¯ æ¨¡æ‹Ÿæ‹–æ‹½å¼€å§‹ - æ–¹å‘:', handle.className.split(' ')[1]);
                handle.style.backgroundColor = '#1d4ed8';
                
                setTimeout(() => {
                    handle.style.backgroundColor = '#3b82f6';
                    console.log('âœ… æ¨¡æ‹Ÿæ‹–æ‹½ç»“æŸ');
                }, 300);
            });
        });
    </script>
</body>
</html> 